#  Проектирование архитектуры 2D-игрового движка на Python

##  Цель

Разработка модульного, расширяемого 2D-игрового движка на Python с использованием библиотеки `pygame`, ориентированного на последующую разработку игр в одиночку. Основной акцент сделан на **гибкость, переиспользуемость и расширяемость** архитектуры через интерфейсы и паттерны проектирования.

---

##  План работы

Разработка была организована в рамках четырехнедельной практики, включающей 54 рабочих часа в неделю. Основные этапы:

1. Определение целей и требований (минимальных и желаемых)
2. Выбор парадигм и проектных принципов
3. Определение архитектурных паттернов
4. Проектирование высокоуровневой архитектурной модели
5. Разработка механизма подмены и расширения модулей
6. Создание шаблона структуры проекта с заглушками
7. Прототипирование интерфейсов и сервисов
8. Разработка тестов (заглушки)
9. Построение диаграмм взаимодействия (PlantUML)
10. Итоговое документирование

---

## Достигнутые результаты

### Минимальные цели (MVP)

- Игровой цикл
- Сцены и управление состояниями
- Система ввода (Input)
- Минимальная аудиосистема
- Система сущностей и компонентов
- Загрузка и кеширование ресурсов
- Простейшие элементы UI (Button, Label)

### Необязательные цели (определены как перспективные)

- Расширенная событийная система
- Поддержка плагинов
- Слои/камера/тайлы
- Сценарии и отладка
- Встроенный редактор и сетевые возможности

---

###  Архитектура

#### Слои

```

\[ Игровая логика (Scenes, Entities) ]
↑
\[ API движка ]
↑
\[ Системные менеджеры: Input, Audio, Assets ]
↑
\[ pygame ]

```

#### Используемые паттерны

| Паттерн         | Применение                     |
|------------------|--------------------------------|
| State            | Управление сценами             |
| Component        | Игровые объекты                |
| Observer         | События и ввод                 |
| Singleton        | Глобальные менеджеры           |
| Strategy         | Расширяемое поведение          |
| Factory Method   | Создание сцен и UI             |
| Service Locator  | Замена и внедрение сервисов    |

---

### Расширяемость и замена модулей

- Все ключевые подсистемы реализуют интерфейсы через `abc.ABC`
- Используется собственный `ServiceLocator` для внедрения зависимостей
- Возможна динамическая загрузка классов через `importlib`
- Поддержка плагинов и обёрток (декораторов) для отладки или замены
- Расширения выполняются через композицию и регистрацию альтернатив

---

### Структура проекта
(см project_structure)
Пример шаблонной структуры:

```

project\_root/
├── core/            # Игровой цикл, сцены
├── input/           # Ввод
├── audio/           # Звук
├── ui/              # Интерфейс
├── entities/        # Сущности и компоненты
├── resources/       # Ресурсы (AssetManager)
├── services/        # DI / Service Locator
├── events/          # События
├── interfaces/      # Интерфейсы ключевых подсистем
├── plugins/         # Расширения и подмены
├── config/          # Bootstrap-настройка
├── tests/           # Модульные тесты
└── main.py          # Точка входа

```

---

### Документы составленые по ходу работы
(см docs)

- описание обоснования проектирования
- анализ аналогов и их возможностей
- выбор архитектурных паттернов
- обоснование архитектурных решений
- описание связей между подсистемами
- определение парадигм и областей их применения


---

